<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multi‑Agent Code Refiner • Immersive Showcase</title>
  <meta name="description" content="An immersive, mobile‑first explainer for the Multi‑Agent Code Refiner inspired by the MCP protocol — with interactive architecture, MongoDB flow, and animated agent conversation." />
  <meta name="theme-color" content="#0e1525" />
  <style>
    /* ------------------------------
       THEME & TOKENS
       ------------------------------ */
    :root {
      --bg: #0e1525;           /* deep navy */
      --bg-soft: #111a2e;      /* slightly lighter */
      --surface: #141c2f;      /* card base */
      --elev: rgba(255, 255, 255, 0.06);
      --text: #e8f0ff;         /* near-white */
      --muted: #b9c7e6;        /* muted text */
      --primary: #6aa9ff;      /* soft blue */
      --primary-strong: #86c1ff;
      --accent: #9b8cff;       /* purple */
      --teal: #67e8f9;         /* cyan accent */
      --ok: #72f1b8;           /* green success */
      --warn: #ffd166;         /* amber */
      --danger: #ff7a90;       /* soft red */
      --shadow: 0 20px 50px rgba(0,0,0,.45);
      --radius: 18px;
      --radius-xl: 26px;
      --ring: 0 0 0 1px rgba(255,255,255,.06), 0 0 1px rgba(0,0,0,.2) inset;
      --glass: saturate(140%) blur(10px);
      --maxw: 1200px;
      --speed: 400ms;
    }

    /* ------------------------------
       GLOBAL RESETS
       ------------------------------ */
    * { box-sizing: border-box; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      margin: 0;
      background: radial-gradient(1200px 800px at 10% -10%, #17203a, transparent 60%),
                  radial-gradient(900px 600px at 110% 10%, #1a2340, transparent 60%),
                  linear-gradient(180deg, #0b1222, #0e1525);
      color: var(--text);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      overflow-x: hidden;
    }

    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .container { width: min(92vw, var(--maxw)); margin: 0 auto; }

    /* subtle card */
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.08);
      backdrop-filter: var(--glass);
    }

    .pill {
      display: inline-flex; align-items: center; gap: .5rem;
      padding: .4rem .75rem; border-radius: 999px;
      background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.09);
      box-shadow: 0 6px 16px rgba(0,0,0,.25) inset;
      color: var(--muted);
      font-weight: 600; letter-spacing: .2px; font-size: .85rem;
    }

    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap:.6rem;
      padding: .9rem 1.1rem; border-radius: 14px; font-weight: 700;
      background: linear-gradient(180deg, var(--primary), var(--accent));
      color: #0a0f1c; border: none; cursor: pointer; box-shadow: var(--shadow);
      transition: transform var(--speed), filter var(--speed), box-shadow var(--speed);
    }
    .btn:hover { transform: translateY(-2px) scale(1.02); filter: brightness(1.05); text-decoration: none; }
    .btn.secondary { background: linear-gradient(180deg, #1e2a47, #172440); color: var(--text); border: 1px solid rgba(255,255,255,.08); }

    .muted { color: var(--muted); }

    /* ------------------------------
       HEADER / NAV
       ------------------------------ */
    header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: blur(8px); background: rgba(8,12,22,.6);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    nav { display: flex; align-items: center; justify-content: space-between; padding: .8rem 0; }
    .brand { display: flex; align-items: center; gap: .8rem; font-weight: 800; letter-spacing: .4px; }
    .brand .logo {
      width: 32px; height: 32px; border-radius: 9px;
      background: conic-gradient(from 220deg, var(--accent), var(--primary), var(--teal), var(--accent));
      box-shadow: 0 10px 30px rgba(106,169,255,.35);
    }
    .navlinks { display: none; gap: 1rem; }
    .navlinks a { padding: .5rem .8rem; border-radius: 10px; }
    .navlinks a:hover { background: rgba(255,255,255,.06); text-decoration: none; }

    @media (min-width: 920px) { .navlinks { display: flex; } }

    /* ------------------------------
       HERO
       ------------------------------ */
    .hero { position: relative; padding: 6rem 0 4rem; overflow: hidden; }
    .bg-orb {
      position: absolute; inset: -20% -20% auto auto; width: 60vmax; height: 60vmax; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(155,140,255,.18), transparent 60%),
                  radial-gradient(circle at 70% 60%, rgba(106,169,255,.18), transparent 60%);
      filter: blur(50px); opacity: .75; pointer-events: none; transform: translate3d(0,0,0);
      animation: float 16s ease-in-out infinite;
    }
    @keyframes float { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(18px) } }

    .hero-grid { display: grid; gap: 2rem; align-items: center; }
    @media (min-width: 920px) { .hero-grid { grid-template-columns: 1.3fr 1fr; } }

    .title { font-size: clamp(2rem, 4.8vw, 3.8rem); line-height: 1.07; margin: 0 0 1rem; font-weight: 900; }
    .subtitle { font-size: clamp(1rem, 2.4vw, 1.2rem); color: var(--muted); }

    .hero-cta { display: flex; gap: .8rem; flex-wrap: wrap; margin-top: 1.4rem; }

    .hero-canvas { height: 300px; border-radius: var(--radius-xl); position: relative; overflow: hidden; }
    .mesh { position:absolute; inset:0; background: radial-gradient(1200px 700px at -20% 120%, rgba(103,232,249,.1), transparent),
                                      radial-gradient(900px 600px at 130% -10%, rgba(155,140,255,.12), transparent),
                                      linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); }
    .nodes, .links { position:absolute; inset:0; }

    /* SVG agent nodes */
    .arch { width: 100%; height: 100%; display:block; }
    .node { filter: drop-shadow(0 12px 24px rgba(0,0,0,.45)); cursor: pointer; transition: transform var(--speed); }
    .node:hover { transform: translateY(-2px) scale(1.02); }
    .node text { font-weight: 800; letter-spacing: .3px; }
    .edge { stroke-linecap: round; opacity: .85; }
    .flow { stroke-dasharray: 6 10; animation: dash 2.2s linear infinite; }
    @keyframes dash { to { stroke-dashoffset: -200; } }

    /* ------------------------------
       SECTION WRAPPERS & TYPO
       ------------------------------ */
    section { padding: 4rem 0; }
    h2 { font-size: clamp(1.6rem, 3.4vw, 2.2rem); margin: 0 0 1rem; }
    p { margin: .5rem 0 0; }

    .grid { display: grid; gap: 1rem; }
    @media (min-width: 920px) { .grid.cols-3 { grid-template-columns: repeat(3, 1fr); } }
    @media (min-width: 720px) { .grid.cols-2 { grid-template-columns: 1fr 1fr; } }

    .shadow-soft { box-shadow: var(--shadow); }
    .pad-xl { padding: 1.4rem; }

    /* reveal on scroll */
    .reveal { opacity: 0; transform: translateY(18px); transition: opacity var(--speed) ease, transform var(--speed) ease; }
    .reveal.in { opacity: 1; transform: translateY(0); }

    /* ------------------------------
       ARCHITECTURE SECTION
       ------------------------------ */
    .legend { display: flex; gap: .6rem; flex-wrap: wrap; }
    .legend span { font-size: .85rem; background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.09); padding: .35rem .6rem; border-radius: 999px; color: var(--muted); }

    .tooltip { position: fixed; pointer-events: none; padding: .6rem .7rem; border-radius: 12px; font-size: .9rem; line-height: 1.3; background: #0b1220; border: 1px solid rgba(255,255,255,.08); color: var(--text); box-shadow: var(--shadow); transform: translate(-50%, calc(-100% - 12px)); opacity: 0; transition: opacity var(--speed); z-index: 100; max-width: min(82vw, 340px); }
    .tooltip.show { opacity: 1; }

    /* ------------------------------
       MONGODB SECTION
       ------------------------------ */
    .db-wrap { position: relative; min-height: 280px; display:grid; place-items:center; }
    .db { width: min(560px, 92%); height: 180px; border-radius: var(--radius-xl); border: 1px solid rgba(255,255,255,.08); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); box-shadow: var(--shadow); overflow: hidden; }
    .packet { position: absolute; width: 10px; height: 10px; border-radius: 50%; background: var(--ok); box-shadow: 0 0 0 4px rgba(114,241,184,.12); animation: packet 7s linear infinite; }
    @keyframes packet { 0% { transform: translate(-40%, -30%) } 50% { transform: translate(10%, 50%) } 100% { transform: translate(80%, -20%) } }

    .db-grid { display:grid; grid-template-columns: 1fr 1fr; gap:1rem; margin-top:1rem; }
    .db-grid .card { padding: 1rem; }

    /* ------------------------------
       WORKFLOW TIMELINE
       ------------------------------ */
    .timeline { position:relative; padding-left: 1rem; }
    .timeline::before { content:""; position:absolute; left: 10px; top: .4rem; bottom: .6rem; width: 2px; background: linear-gradient(var(--teal), var(--accent)); opacity:.5; }
    .step { position: relative; margin: 1.1rem 0; padding-left: 1.6rem; }
    .step::before { content:""; position:absolute; left: -.2rem; top: .2rem; width: 14px; height: 14px; border-radius:50%; background: var(--primary); box-shadow: 0 0 0 4px rgba(106,169,255,.18); }
    .step .title { font-size: 1.05rem; margin: 0; }

    /* ------------------------------
       AGENT CONVERSATION SIM
       ------------------------------ */
    .chat { background: rgba(255,255,255,.045); border: 1px solid rgba(255,255,255,.08); border-radius: var(--radius-xl); padding: 1rem; max-height: 340px; overflow: hidden; position: relative; }
    .bubble { max-width: 80%; margin:.45rem 0; padding:.7rem .9rem; border-radius: 14px; box-shadow: var(--shadow); }
    .bubble.agent { background: rgba(155,140,255,.18); border: 1px solid rgba(155,140,255,.25); align-self: flex-start; }
    .bubble.tool { background: rgba(106,169,255,.18); border: 1px solid rgba(106,169,255,.25); align-self: flex-end; margin-left:auto; }
    .chatlog { display:flex; flex-direction:column; }
    .caret { display:inline-block; width: 10px; height: 1.1rem; background: var(--text); animation: blink 1s steps(1) infinite; margin-left: 4px; vertical-align: middle; }
    @keyframes blink { 50% { opacity: .15 } }

    /* ------------------------------
       CARDS & USE CASES
       ------------------------------ */
    .cards { display:grid; gap: 1rem; }
    @media (min-width: 720px) { .cards { grid-template-columns: repeat(3, 1fr); } }
    .card-item { padding: 1rem; border-radius: var(--radius); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border: 1px solid rgba(255,255,255,.08); box-shadow: var(--shadow); transition: transform var(--speed), background var(--speed); }
    .card-item:hover { transform: translateY(-4px); background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04)); }

    /* ------------------------------
       FOOTER
       ------------------------------ */
    footer { padding: 3rem 0 4rem; color: var(--muted); }

    /* ------------------------------
       ACCESSIBILITY: REDUCED MOTION
       ------------------------------ */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
      .flow { stroke-dasharray: none; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <span>Multi‑Agent Code Refiner</span>
        </div>
        <div class="navlinks">
          <a href="#about">About</a>
          <a href="#architecture">Architecture</a>
          <a href="#mongodb">MongoDB</a>
          <a href="#workflow">Workflow</a>
          <a href="#demo">Live Demo</a>
          <a href="#repo">GitHub</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="bg-orb" aria-hidden="true"></div>
      <div class="container hero-grid">
        <div>
          <span class="pill" title="Inspired by the MCP Protocol">MCP‑Inspired • LangChain • FastAPI • MongoDB</span>
          <h1 class="title">From Raw Code → <span style="background:linear-gradient(90deg,var(--teal),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent">Production‑Ready</span></h1>
          <p class="subtitle">A multi‑agent system that writes, fixes, optimizes, documents, and reviews code — automatically. Clean traces, versioned artifacts, and a transparent pipeline you can trust.</p>
          <div class="hero-cta">
            <a class="btn" href="#architecture">Explore the Pipeline</a>
            <a class="btn secondary" href="#repo">View on GitHub</a>
          </div>
        </div>
        <div class="hero-canvas card shadow-soft reveal" id="archCanvas" aria-label="Interactive architecture preview">
          <svg class="arch" viewBox="0 0 800 300" role="img" aria-label="Agent pipeline diagram">
            <!-- Edges -->
            <defs>
              <linearGradient id="edgeGrad" x1="0" x2="1">
                <stop offset="0%" stop-color="var(--teal)" />
                <stop offset="100%" stop-color="var(--accent)" />
              </linearGradient>
              <filter id="glow"><feGaussianBlur stdDeviation="3" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
            </defs>
            <g class="edges" stroke="url(#edgeGrad)" stroke-width="4" filter="url(#glow)">
              <path class="edge flow" d="M120 150 C 200 40, 320 40, 380 150" fill="none" />
              <path class="edge flow" d="M380 150 C 440 260, 560 260, 620 150" fill="none" />
              <path class="edge flow" d="M620 150 C 640 120, 680 120, 700 150" fill="none" />
            </g>
            <!-- Nodes -->
            <g class="nodes" font-size="14">
              <g class="node" data-title="CodeWriter" data-desc="Drafts initial solution given a prompt or spec. Ensures baseline structure and tests where applicable." transform="translate(80,110)">
                <rect width="120" height="80" rx="16" fill="rgba(155,140,255,.22)" stroke="rgba(155,140,255,.5)" />
                <text x="60" y="46" text-anchor="middle">CodeWriter</text>
              </g>
              <g class="node" data-title="SyntaxFixer" data-desc="Runs static checks & linters. Fixes syntax and type errors; normalizes style." transform="translate(340,110)">
                <rect width="120" height="80" rx="16" fill="rgba(106,169,255,.22)" stroke="rgba(106,169,255,.5)" />
                <text x="60" y="46" text-anchor="middle">SyntaxFixer</text>
              </g>
              <g class="node" data-title="Optimizer" data-desc="Improves algorithmic complexity, memory, vectorization and IO patterns; adds benchmarks." transform="translate(580,110)">
                <rect width="120" height="80" rx="16" fill="rgba(103,232,249,.18)" stroke="rgba(103,232,249,.46)" />
                <text x="60" y="46" text-anchor="middle">Optimizer</text>
              </g>
              <g class="node" data-title="DocAgent" data-desc="Generates docstrings, README diffs, and inline comments from agent traces." transform="translate(720,40)">
                <rect width="120" height="80" rx="16" fill="rgba(255,255,255,.1)" stroke="rgba(255,255,255,.3)" />
                <text x="60" y="46" text-anchor="middle">DocAgent</text>
              </g>
              <g class="node" data-title="Reviewer" data-desc="Performs final review, cross‑checks tests & style, assigns a quality score, and emits release candidate." transform="translate(720,180)">
                <rect width="120" height="80" rx="16" fill="rgba(114,241,184,.18)" stroke="rgba(114,241,184,.46)" />
                <text x="60" y="46" text-anchor="middle">Reviewer</text>
              </g>
            </g>
          </svg>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="container grid cols-2">
        <div class="card pad-xl reveal">
          <h2>Why a Multi‑Agent Refiner?</h2>
          <p>Single‑shot code generation often ships fragile solutions. This system decomposes code production into <strong>specialized agents</strong> with explicit hand‑offs. Each agent focuses on what it does best — writing, fixing, optimizing, documenting, and reviewing — creating a transparent path from prompt to production.</p>
          <p class="muted">Inspired by the <strong>Model Context Protocol (MCP)</strong> style of tools and capabilities, the backend uses <strong>FastAPI</strong> to orchestrate <strong>LangChain</strong> agents across a clean sequence with guardrails.</p>
        </div>
        <div class="card pad-xl reveal">
          <h2>What does it improve?</h2>
          <ul>
            <li><strong>Reliability:</strong> Syntax & type checks, linting, and tests run before merge.</li>
            <li><strong>Performance:</strong> The Optimizer tunes algorithmic and system‑level choices with benchmarks.</li>
            <li><strong>Explainability:</strong> Every decision is stored as a trace, feeding auto‑docs and postmortems.</li>
            <li><strong>Velocity:</strong> Automated iterations accelerate prototyping & review cycles.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ARCHITECTURE -->
    <section id="architecture">
      <div class="container">
        <div class="reveal">
          <span class="pill">Pipeline Overview</span>
          <h2>Agent Architecture</h2>
          <p class="muted">Hover any node to see its role. The orchestrator (FastAPI) coordinates the chain; each agent writes its <em>reasoning trace</em> that becomes searchable knowledge.</p>
        </div>
        <div class="legend reveal" style="margin: .8rem 0 1.2rem;">
          <span>CodeWriter → SyntaxFixer → Optimizer → DocAgent → Reviewer</span>
        </div>
        <div class="card pad-xl reveal">
          <p><strong>Behind the scenes:</strong> Agents are implemented using LangChain with tool access. The orchestrator manages context windows, passes artifacts between steps, and handles retries/backoffs. Each stage persists versions & diffs to MongoDB.</p>
        </div>
      </div>
      <div id="tt" class="tooltip" role="tooltip" aria-hidden="true"></div>
    </section>

    <!-- MONGODB -->
    <section id="mongodb">
      <div class="container">
        <div class="reveal">
          <span class="pill">Observability & Storage</span>
          <h2>MongoDB as the Source of Truth</h2>
          <p class="muted">Every run becomes a story: prompts, agent thoughts, intermediate code, benchmarks, and final artifacts. We write them as structured documents so you can <em>query the history</em> and reproduce decisions.</p>
        </div>
        <div class="db-wrap reveal">
          <div class="db" aria-label="Database visualization">
            <!-- packets simulate reads/writes; JS randomizes movement for variety -->
            <div class="packet" style="left:6%; top:18%"></div>
            <div class="packet" style="left:20%; top:68%"></div>
            <div class="packet" style="left:48%; top:40%"></div>
            <div class="packet" style="left:72%; top:30%"></div>
            <div class="packet" style="left:88%; top:70%"></div>
          </div>
        </div>
        <div class="db-grid container">
          <div class="card reveal">
            <h3 style="margin-top:.4rem">Collections</h3>
            <ul class="muted">
              <li><strong>sessions</strong>: run metadata (user, timestamps, status).</li>
              <li><strong>traces</strong>: per‑agent reasoning, tool calls, errors.</li>
              <li><strong>artifacts</strong>: code versions, diffs, docs, benchmarks.</li>
              <li><strong>reviews</strong>: final scores, comments, approvals.</li>
            </ul>
          </div>
          <div class="card reveal">
            <h3 style="margin-top:.4rem">Why MongoDB?</h3>
            <ul class="muted">
              <li>Flexible documents fit evolving agent schemas.</li>
              <li>Compound indexes accelerate <em>trace‑centric</em> queries.</li>
              <li>Time‑series like access for run histories.</li>
              <li>Easy aggregation for analytics dashboards & audits.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- WORKFLOW -->
    <section id="workflow">
      <div class="container">
        <div class="reveal">
          <span class="pill">End‑to‑End</span>
          <h2>Workflow Timeline</h2>
          <p class="muted">From prompt to release candidate in five disciplined stages. Retries and guardrails ensure quality at each boundary.</p>
        </div>
        <div class="card pad-xl reveal">
          <div class="timeline">
            <div class="step">
              <h4 class="title">1) Ingest</h4>
              <p class="muted">Receive spec or prompt. Initialize session in <code>sessions</code>, attach context and constraints.</p>
            </div>
            <div class="step">
              <h4 class="title">2) Draft</h4>
              <p class="muted">CodeWriter drafts solution with tests if possible; emit artifact v0 to <code>artifacts</code>.</p>
            </div>
            <div class="step">
              <h4 class="title">3) Check</h4>
              <p class="muted">SyntaxFixer applies linters/type checkers; push diffs and errors to <code>traces</code>.</p>
            </div>
            <div class="step">
              <h4 class="title">4) Optimize</h4>
              <p class="muted">Optimizer runs benchmarks & suggests improvements (vectorization, IO, memory). Store metrics with artifact vN.</p>
            </div>
            <div class="step">
              <h4 class="title">5) Document</h4>
              <p class="muted">DocAgent composes docstrings and README diffs from traces. Attach to artifact bundle.</p>
            </div>
            <div class="step">
              <h4 class="title">6) Review</h4>
              <p class="muted">Reviewer validates tests, style, and performance regressions; assigns score and emits RC.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DEMO: SIMULATED CHAT -->
    <section id="demo">
      <div class="container">
        <div class="reveal">
          <span class="pill">Peek Inside</span>
          <h2>Agent Conversation (Simulated)</h2>
          <p class="muted">A tiny window into the cross‑agent chatter. Messages are sampled from a typical run: proposals, fixes, metrics, and sign‑off.</p>
        </div>
        <div class="chat reveal" aria-live="polite">
          <div id="chatlog" class="chatlog"></div>
        </div>
      </div>
    </section>

    <!-- USE CASES / IMPACT -->
    <section id="impact">
      <div class="container reveal">
        <span class="pill">Impact</span>
        <h2>Where this shines</h2>
        <div class="cards" style="margin-top:.6rem">
          <div class="card-item">
            <h3>Education</h3>
            <p class="muted">Show learners end‑to‑end software thinking: from draft to docs with explainable steps.</p>
          </div>
          <div class="card-item">
            <h3>Rapid Prototyping</h3>
            <p class="muted">Accelerate spikes while keeping quality: automated checks and measurable performance.</p>
          </div>
          <div class="card-item">
            <h3>Team Reviews</h3>
            <p class="muted">Treat agents like junior reviewers that never tire — and keep a perfect audit trail.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- REPO / CONTACT -->
    <section id="repo">
      <div class="container grid cols-2">
        <div class="card pad-xl reveal">
          <h2>Get the Code</h2>
          <p class="muted">Explore the full project, issues, and roadmap on GitHub. Stars power morale ⭐</p>
          <p><a class="btn" href="https://github.com/ManasRanjanJena253/Multi_Agent_Code_Editor_Inspired_By_MCP" target="_blank" rel="noopener">Open Repository</a></p>
        </div>
        <div class="card pad-xl reveal">
          <h2>Say Hi</h2>
          <p class="muted">Open to collabs, internships, and product ideas.</p>
          <div class="hero-cta">
            <a class="btn" href="mailto:mranjanjena253@gmail.com">Email Me</a>
            <a class="btn secondary" href="https://www.linkedin.com/in/manasranjanjena253/" target="_blank" rel="noopener">LinkedIn</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="muted">© <span id="year"></span> Manas Ranjan Jena • Multi‑Agent Code Refiner • Built with FastAPI, LangChain, MongoDB</div>
    </div>
  </footer>

  <script>
    // ------------------------------
    // UTIL: reveal on scroll
    // ------------------------------
    const obs = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) e.target.classList.add('in');
      })
    }, { threshold: .18 });
    document.querySelectorAll('.reveal').forEach(el => obs.observe(el));

    // ------------------------------
    // TOOLTIP for agent nodes
    // ------------------------------
    const tooltip = document.getElementById('tt');
    const nodes = document.querySelectorAll('.node');
    nodes.forEach(n => {
      n.addEventListener('mouseenter', (ev) => {
        const t = n.getAttribute('data-title');
        const d = n.getAttribute('data-desc');
        tooltip.innerHTML = `<strong>${t}</strong><br><span class="muted">${d}</span>`;
        tooltip.style.left = (ev.clientX + 0) + 'px';
        tooltip.style.top = (ev.clientY - 10) + 'px';
        tooltip.classList.add('show');
        tooltip.setAttribute('aria-hidden','false');
      });
      n.addEventListener('mousemove', (ev) => {
        tooltip.style.left = ev.clientX + 'px';
        tooltip.style.top = (ev.clientY - 10) + 'px';
      });
      n.addEventListener('mouseleave', () => {
        tooltip.classList.remove('show');
        tooltip.setAttribute('aria-hidden','true');
      });
    });

    // ------------------------------
    // MongoDB packets: randomize paths for life‑like motion
    // ------------------------------
    const packets = document.querySelectorAll('.packet');
    function jitter(el){
      const x = (Math.random()*160 - 30);  // -30..130
      const y = (Math.random()*120 - 20);  // -20..100
      el.animate([
        { transform: `translate(0,0)` },
        { transform: `translate(${x}%, ${y}%)` }
      ], { duration: 7000 + Math.random()*3000, iterations: Infinity, direction: 'alternate', easing: 'ease-in-out' });
    }
    packets.forEach(jitter);

    // ------------------------------
    // Simulated agent conversation (typewriter)
    // ------------------------------
    const conversation = [
      { who: 'CodeWriter', role: 'agent', text: 'Drafted initial module with interface and baseline tests. Ready for checks.' },
      { who: 'SyntaxFixer', role: 'tool', text: 'Resolved 3 linter issues, added type hints, normalized imports.' },
      { who: 'Optimizer', role: 'agent', text: 'Vectorized inner loop, reduced memory by ~42%, added micro‑bench.' },
      { who: 'DocAgent', role: 'tool', text: 'Generated docstrings and README diff from traces. Linked benchmarks.' },
      { who: 'Reviewer', role: 'agent', text: 'All tests pass. Style OK. Perf +1.8x vs baseline. Score: 92/100. Approving RC.' }
    ];

    const chat = document.getElementById('chatlog');
    let i = 0;
    function typeMessage(msg){
      const bubble = document.createElement('div');
      bubble.className = `bubble ${msg.role}`;
      bubble.innerHTML = `<strong>${msg.who}:</strong> <span class="tgt"></span><span class="caret"></span>`;
      chat.appendChild(bubble);

      const tgt = bubble.querySelector('.tgt');
      const caret = bubble.querySelector('.caret');
      let j = 0; const txt = msg.text;
      const interval = setInterval(() => {
        tgt.textContent = txt.slice(0, j++);
        if (j > txt.length){
          clearInterval(interval);
          caret.remove();
          // auto scroll
          chat.parentElement.scrollTo({ top: chat.parentElement.scrollHeight, behavior: 'smooth' });
          setTimeout(nextMsg, 250); // faster transition between messages
        }
      }, 10); // faster per-character speed
    }
    function nextMsg(){
      if (i < conversation.length) typeMessage(conversation[i++]);
    }
    // Start typing when demo comes into view
    const demoSec = document.querySelector('#demo .chat');
    const demoObs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting && chat.children.length===0){ nextMsg(); demoObs.disconnect(); } });
    }, { threshold: .3 });
    demoObs.observe(demoSec);

    // ------------------------------
    // Dynamic year
    // ------------------------------
    document.getElementById('year').textContent = new Date().getFullYear();

    // ------------------------------
    // Keyboard a11y: skip to sections
    // ------------------------------
    document.addEventListener('keydown', (e)=>{
      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k') {
        e.preventDefault();
        document.querySelector('#architecture').scrollIntoView({ behavior: 'smooth' });
      }
    });
  </script>
</body>
</html>
